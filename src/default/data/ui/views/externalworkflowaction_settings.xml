<form script="autodiscover.js, externalworkflowaction_settings.js" stylesheet="externalworkflowaction_settings.css">
  <label>External Workflow Action Settings</label>
  <search id="externalworkflowaction_settings_search">
    <query>| inputlookup externalworkflowaction_settings| eval key=_key |  append [| rest /servicesNS/-/-/alerts/alert_actions splunk_server=local | search label="*" NOT title="alert_manager" command="sendalert*" ] | eval type="Splunk Alert Action", disabled=if(isnull(key),1,disabled)| dedup label, title | table key, type, disabled, label, title, parameters</query>
    <earliest>0</earliest>
    <latest></latest>
  </search>
  <row>
    <panel>
      <html>
        <button id="save_settings">Save settings</button>
        <div id="workflowaction_settings" 
        class="splunk-view" 
        data-require="app/alert_manager/views/externalworkflowactionsettingsview" 
        data-options='{
          "managerid": "externalworkflowaction_settings_search"
        }'></div>
      </html>
    </panel>
  </row>
</form>
